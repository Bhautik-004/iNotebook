{"ast":null,"code":"import _defineProperty from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from\"../context/notes/noteContext\";import Noteitem from'./Noteitem';import AddNote from'./AddNote';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var showAlert=props.showAlert;var context=useContext(noteContext);var history=useHistory();var notes=context.notes,getNotes=context.getNotes,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNotes();}else{history.push('/login');}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleClick=function handleClick(e){editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();props.showAlert(\"Updated successfully\",\"success\");};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};console.log(notes,'notes----');return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:showAlert}),/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"You Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2\",children:(notes===null||notes===void 0?void 0:notes.length)===0&&'No notes to display'}),notes&&(notes===null||notes===void 0?void 0:notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{updateNote:updateNote,note:note,showAlert:showAlert},note._id);}))]})]});};export default Notes;","map":{"version":3,"sources":["F:/Inotebook/iNotebook-React/src/components/Notes.js"],"names":["React","useContext","useEffect","useRef","useState","noteContext","Noteitem","AddNote","useHistory","Notes","props","showAlert","context","history","notes","getNotes","editNote","localStorage","getItem","push","ref","refClose","id","etitle","edescription","etag","note","setNote","updateNote","currentNote","current","click","_id","title","description","tag","handleClick","e","onChange","target","name","value","console","log","length","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport noteContext from \"../context/notes/noteContext\"\r\nimport Noteitem from './Noteitem';\r\nimport AddNote from './AddNote';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Notes = (props) => {\r\n    const {showAlert} = props;\r\n    const context = useContext(noteContext);\r\n    let history = useHistory();\r\n    const { notes, getNotes, editNote } = context;\r\n    useEffect(() => {\r\n        if(localStorage.getItem('token')){\r\n            getNotes()\r\n        }\r\n        else{\r\n            history.push('/login')\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [])\r\n    const ref = useRef(null)\r\n    const refClose = useRef(null)\r\n    const [note, setNote] = useState({id: \"\", etitle: \"\", edescription: \"\", etag: \"\"})\r\n\r\n    const updateNote = (currentNote) => {\r\n        ref.current.click();\r\n        setNote({id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag:currentNote.tag})\r\n        \r\n    }\r\n\r\n    const handleClick = (e)=>{ \r\n        editNote(note.id, note.etitle, note.edescription, note.etag)\r\n        refClose.current.click();\r\n        props.showAlert(\"Updated successfully\", \"success\");\r\n    }\r\n\r\n    const onChange = (e)=>{\r\n        setNote({...note, [e.target.name]: e.target.value})\r\n    }\r\n\r\n    console.log(notes, 'notes----')\r\n\r\n    return (\r\n        <>\r\n            <AddNote showAlert={showAlert} />\r\n            <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch demo modal\r\n            </button>\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\r\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form className=\"my-3\">\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} aria-describedby=\"emailHelp\" onChange={onChange} minLength={5} required/>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} minLength={5} required/>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={onChange} />\r\n                                </div>\r\n \r\n                            </form>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button disabled={note.etitle.length<5 || note.edescription.length<5} onClick={handleClick} type=\"button\" className=\"btn btn-primary\">Update Note</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"row my-3\">\r\n                <h2>You Notes</h2>\r\n                <div className=\"container mx-2\"> \r\n                {notes?.length===0 && 'No notes to display'}\r\n                </div>\r\n                {notes && notes?.map((note) => {\r\n                    return <Noteitem key={note._id} updateNote={updateNote} note={note} showAlert={showAlert} />\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notes\r\n"]},"metadata":{},"sourceType":"module"}