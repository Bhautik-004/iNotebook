{"ast":null,"code":"import _defineProperty from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/Inotebook/iNotebook-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(props){var _useState=useState({name:\"\",email:\"\",password:\"\",cpassword:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var name,email,password,response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();name=credentials.name,email=credentials.email,password=credentials.password;_context.next=4;return fetch(\"https://inotebook-knnk.onrender.com/api/auth/createuser\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email,password:password})});case 4:response=_context.sent;console.log(JSON.stringify({name:name,email:email,password:password}),'param---');_context.next=8;return response.json();case 8:json=_context.sent;console.log(json);if(json.success){// Save the auth token and redirect\nlocalStorage.setItem('token',json.authtoken);history.push(\"/\");props.showAlert(\"Account Created Successfully\",\"success\");}else{props.showAlert(\"Invalid Detail\",\"danger\");}case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-2 col-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"my-3\",children:\"Create an account to use e-Notes\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",onChange:handleChange,\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",onChange:handleChange,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",onChange:handleChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cpassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"cpassword\",name:\"cpassword\",onChange:handleChange,minLength:5,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});};export default Signup;","map":{"version":3,"sources":["F:/Inotebook/iNotebook-React/src/components/Signup.js"],"names":["React","useState","useHistory","Signup","props","name","email","password","cpassword","credentials","setCredentials","history","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","console","log","json","success","localStorage","setItem","authtoken","push","showAlert","handleChange","target","value"],"mappings":"6tBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CAEtB,cAAsCH,QAAQ,CAAC,CAACI,IAAI,CAAC,EAAN,CAAUC,KAAK,CAAE,EAAjB,CAAqBC,QAAQ,CAAE,EAA/B,CAAmCC,SAAS,CAAC,EAA7C,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eACA,GAAIC,CAAAA,OAAO,CAAGT,UAAU,EAAxB,CAEA,GAAMU,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,wJACjBA,CAAC,CAACC,cAAF,GACMT,IAFW,CAEcI,WAFd,CAEXJ,IAFW,CAELC,KAFK,CAEcG,WAFd,CAELH,KAFK,CAEEC,QAFF,CAEcE,WAFd,CAEEF,QAFF,uBAGMQ,CAAAA,KAAK,CAAC,yDAAD,CAA4D,CACpFC,MAAM,CAAE,MAD4E,CAEpFC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF2E,CAKpFC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACf,IAAI,CAAJA,IAAD,CAAOC,KAAK,CAALA,KAAP,CAAcC,QAAQ,CAARA,QAAd,CAAf,CAL8E,CAA5D,CAHX,QAGXc,QAHW,eAUjBC,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACC,SAAL,CAAe,CAACf,IAAI,CAAJA,IAAD,CAAOC,KAAK,CAALA,KAAP,CAAcC,QAAQ,CAARA,QAAd,CAAf,CAAZ,CAAqD,UAArD,EAViB,sBAWEc,CAAAA,QAAQ,CAACG,IAAT,EAXF,QAWXA,IAXW,eAYjBF,OAAO,CAACC,GAAR,CAAYC,IAAZ,EACA,GAAIA,IAAI,CAACC,OAAT,CAAiB,CACb;AACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,IAAI,CAACI,SAAnC,EACAjB,OAAO,CAACkB,IAAR,CAAa,GAAb,EACAzB,KAAK,CAAC0B,SAAN,CAAgB,8BAAhB,CAAgD,SAAhD,EAEH,CAND,IAOI,CACA1B,KAAK,CAAC0B,SAAN,CAAgB,gBAAhB,CAAkC,QAAlC,EACH,CAtBgB,uDAAH,kBAAZlB,CAAAA,YAAY,4CAAlB,CAyBA,GAAMmB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAClB,CAAD,CAAK,CACtBH,cAAc,gCAAKD,WAAL,wBAAmBI,CAAC,CAACmB,MAAF,CAAS3B,IAA5B,CAAmCQ,CAAC,CAACmB,MAAF,CAASC,KAA5C,GAAd,CACH,CAFD,CAKA,mBACI,aAAK,SAAS,CAAC,uBAAf,wBACI,WAAI,SAAS,CAAC,MAAd,8CADJ,cAEI,cAAM,QAAQ,CAAErB,YAAhB,wBACI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,YAAhC,kBADJ,cAII,cACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,cAFd,CAGI,EAAE,CAAC,MAHP,CAII,IAAI,CAAC,MAJT,CAKI,QAAQ,CAAEmB,YALd,CAMI,mBAAiB,WANrB,EAJJ,GADJ,cAeI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,YAAjC,2BADJ,cAII,cACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAC,cAFd,CAGI,EAAE,CAAC,OAHP,CAII,IAAI,CAAC,OAJT,CAKI,QAAQ,CAAEA,YALd,CAMI,mBAAiB,WANrB,EAJJ,cAYI,YAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,WAA9B,4DAZJ,GAfJ,cA+BI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,YAApC,sBADJ,cAII,cACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,cAFd,CAGI,EAAE,CAAC,UAHP,CAII,IAAI,CAAC,UAJT,CAKI,QAAQ,CAAEA,YALd,CAMI,SAAS,CAAE,CANf,CAOI,QAAQ,KAPZ,EAJJ,GA/BJ,cA6CI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,YAArC,8BADJ,cAII,cACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,cAFd,CAGI,EAAE,CAAC,WAHP,CAII,IAAI,CAAC,WAJT,CAKI,QAAQ,CAAEA,YALd,CAMI,SAAS,CAAE,CANf,CAOI,QAAQ,KAPZ,EAJJ,GA7CJ,cA4DI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,oBA5DJ,GAFJ,GADJ,CAqEH,CAxGD,CA0GA,cAAe5B,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst Signup = (props) => {\r\n\r\n    const [credentials, setCredentials] = useState({name:\"\", email: \"\", password: \"\", cpassword:\"\"})\r\n    let history = useHistory();\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n       const {name, email, password} = credentials;\r\n        const response = await fetch(\"https://inotebook-knnk.onrender.com/api/auth/createuser\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({name, email, password})\r\n        });\r\n        console.log(JSON.stringify({name, email, password}), 'param---')\r\n        const json = await response.json()\r\n        console.log(json);\r\n        if (json.success){\r\n            // Save the auth token and redirect\r\n            localStorage.setItem('token', json.authtoken); \r\n            history.push(\"/\");\r\n            props.showAlert(\"Account Created Successfully\", \"success\")\r\n\r\n        }\r\n        else{\r\n            props.showAlert(\"Invalid Detail\", \"danger\")\r\n        }\r\n    }\r\n\r\n    const handleChange = (e)=>{\r\n        setCredentials({...credentials, [e.target.name]: e.target.value})\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container mt-2 col-10\">\r\n            <h2 className=\"my-3\">Create an account to use e-Notes</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"my-3\">\r\n                    <label htmlFor=\"name\" className=\"form-label\">\r\n                        Name\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"name\"\r\n                        name=\"name\"\r\n                        onChange={handleChange}\r\n                        aria-describedby=\"emailHelp\"\r\n                    />\r\n              \r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"email\" className=\"form-label\">\r\n                        Email address\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        onChange={handleChange}\r\n                        aria-describedby=\"emailHelp\"\r\n                    />\r\n                    <div id=\"emailHelp\" className=\"form-text\">\r\n                        We'll never share your email with anyone else.\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">\r\n                        Password\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        onChange={handleChange}\r\n                        minLength={5}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"cpassword\" className=\"form-label\">\r\n                       Confirm Password\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        id=\"cpassword\"\r\n                        name=\"cpassword\"\r\n                        onChange={handleChange}\r\n                        minLength={5}\r\n                        required\r\n                    />\r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Submit\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}